{
  "fields": {
    "x_user_id": {
      "type": "string",
      "help": "租户id",
      "order_index": 0
    },
    "rule": {
      "item_schema": {
        "fields": {
          "name": {
            "alias": "名称",
            "type": "string",
            "order_index": 0,
            "enum": [
              {
                "name": "rewrite",
                "value": "rewrite"
              },
              {
                "name": "pass_proxy",
                "value": "pass_proxy"
              },
              {
                "name": "重定向",
                "value": "redirect"
              },
              {
                "name": "直接返回",
                "value": "return"
              }
            ]
          },
          "action": {
            "schema": {
              "fields": {
                "rewrite_regex": {
                  "help": "仅rewrite有用",
                  "alias": "Rewrite正则表达式",
                  "type": "string",
                  "order_index": 2,
                  "required": false
                },
                "pass_proxy_target": {
                  "help": "仅动作类型为PassProxy有用",
                  "item_schema": {
                    "fields": {
                      "weight": {
                        "alias": "权重",
                        "type": "number"
                      },
                      "url": {
                        "alias": "URL",
                        "type": "string"
                      }
                    }
                  },
                  "alias": "PassProxy目标路径",
                  "type": "array",
                  "order_index": 5
                },
                "action_type": {
                  "alias": "动作类型",
                  "type": "string",
                  "order_index": 1,
                  "enum": [
                    {
                      "name": "rewrite",
                      "value": "rewrite"
                    },
                    {
                      "name": "pass_proxy",
                      "value": "pass_proxy"
                    },
                    {
                      "name": "重定向",
                      "value": "redirect"
                    },
                    {
                      "name": "直接返回",
                      "value": "return"
                    }
                  ],
                  "required": true
                },
                "return_target": {
                  "schema": {
                    "fields": {
                      "code": {
                        "alias": "状态码",
                        "type": "number",
                        "order_index": 1
                      },
                      "header": {
                        "item_schema": {
                          "fields": {
                            "name": {
                              "type": "string"
                            },
                            "value": {
                              "type": "string"
                            }
                          }
                        },
                        "type": "array",
                        "order_index": 2
                      },
                      "body": {
                        "type": "string",
                        "order_index": 3
                      }
                    }
                  },
                  "help": "仅动作类型为Return有用",
                  "alias": "Return目标路径",
                  "type": "table",
                  "order_index": 6
                },
                "redirect_type": {
                  "alias": "重定向类型",
                  "type": "number",
                  "order_index": 3,
                  "enum": [
                    {
                      "name": "永久重定向",
                      "value": "301"
                    },
                    {
                      "name": "临时重定向",
                      "value": "302"
                    }
                  ]
                },
                "target": {
                  "help": "仅动作类型为rewrite、redirect有用",
                  "alias": "目标路径",
                  "type": "string",
                  "order_index": 4,
                  "required": false
                }
              }
            },
            "alias": "执行动作",
            "type": "table",
            "order_index": 2,
            "required": true
          },
          "matcher": {
            "item_schema": {
              "fields": {
                "op": {
                  "alias": "运算符",
                  "type": "string",
                  "order_index": 2,
                  "enum": [
                    {
                      "name": "等于",
                      "value": "="
                    },
                    {
                      "name": "不等于",
                      "value": "!="
                    },
                    {
                      "name": "开头是",
                      "value": "startsWith"
                    },
                    {
                      "name": "结尾是",
                      "value": "endsWith"
                    },
                    {
                      "name": "正则匹配",
                      "value": "regex"
                    },
                    {
                      "name": "正则不匹配",
                      "value": "nonRegex"
                    }
                  ]
                },
                "left_value": {
                  "alias": "参数名称",
                  "type": "string",
                  "order_index": 1
                },
                "source_type": {
                  "alias": "参数来源",
                  "order_index": 0,
                  "type": "string",
                  "enum": [
                    {
                      "name": "Header",
                      "value": "Header"
                    },
                    {
                      "name": "URI",
                      "value": "URI"
                    },
                    {
                      "name": "Host",
                      "value": "Host"
                    },
                    {
                      "name": "User-Agent",
                      "value": "User-Agent"
                    },
                    {
                      "name": "Args",
                      "value": "Args"
                    },
                    {
                      "name": "Cookie",
                      "value": "Cookie"
                    }
                  ]
                },
                "right_value": {
                  "alias": "参数值",
                  "order_index": 3,
                  "type": "string"
                }
              }
            },
            "alias": "条件列表",
            "type": "array",
            "order_index": 1,
            "required": false
          }
        }
      },
      "alias": "规则列表",
      "type": "array",
      "order_index": 1,
      "required": false
    }
  }
}